test tutorial1.1:
data = Bernoulli(0.3, 1000)
data ~ Bernoulli(rate)
rate ~ Uniform(0,1)
meanrate = mean(rate)
stdrate = std(rate)
result = [isclose(meanrate, 0.3, atol=0.02)]

test tutorial1.2:
rain = [e.Weather == "rain" for e in DemoEvents if e.hasField("Weather")]
rain ~ Bernoulli(rate)
rate ~ Uniform(0,1)
meanrate = mean(rate)
result =[isclose(meanrate, 0.237, atol=0.01)]

test tutorial1.3:
rain = [e.Weather == "rain" for e in Events if e.hasField("Weather")]
subjects = [e.UserId for e in Events if e.hasField("Weather")]
rain[subjects] ~ Bernoulli(rate[subjects])
rate[subjects] ~ Beta(rateHier, 0.1)
rateHier ~ Uniform(0, 1)
meanrateh = mean(rateHier)
result = [isclose(meanrateh, 0.283, atol=0.02)]

test tutorial1.4:
ButtonEvents = [e for e in DemoEvents if e.type == "Button"]
Anxious = ["Anxious" in e.keywords for e in ButtonEvents]
Wednesday = ["Wednesday" in e.keywords for e in ButtonEvents]
Anxious ~ Bernoulli(p)
p ~ Sigmoid(bWednesday * Wednesday + Intercept)
bWednesday ~ Normal(0, 10)
Intercept ~ Normal(0, 10)
meanbWednesday = mean(bWednesday)
meanIntercept = mean(Intercept)
result = [isclose(meanbWednesday, 10.027, atol=0.5), isclose(meanIntercept, -9.08, atol=0.5)]

test tutorial1.5:
temperatures = [e.Temperature for e in DemoEvents if e.hasField("Temperature")]
meantemp = mean(temperatures)
result = [isclose(meantemp, 20.63, atol=0.5)]

test tutorial1.6:
ButtonEvents = [e for e in DemoEvents if e.type == "Button"]
Anxious = ["Anxious" in e.keywords for e in ButtonEvents]
Sunday = ["Sunday" in e.keywords for e in ButtonEvents]
Monday = ["Monday" in e.keywords for e in ButtonEvents]
Tuesday = ["Tuesday" in e.keywords for e in ButtonEvents]
Wednesday = ["Wednesday" in e.keywords for e in ButtonEvents]
Thursday = ["Thursday" in e.keywords for e in ButtonEvents]
Friday = ["Friday" in e.keywords for e in ButtonEvents]
Saturday = ["Saturday" in e.keywords for e in ButtonEvents]
meanSunday = mean(bSunday)
meanMonday = mean(bMonday)
meanTuesday = mean(bTuesday)
meanWednesday = mean(bWednesday)
meanThursday = mean(bThursday)
meanFriday = mean(bFriday)
meanSaturday = mean(bSaturday)
meanIntercept = mean(Intercept)
Anxious ~ Bernoulli(p)
p ~ Sigmoid(bSunday * Sunday + bMonday * Monday + bTuesday * Tuesday + bWednesday * Wednesday + bThursday * Thursday + bFriday * Friday + bSaturday * Saturday + Intercept)
bSunday ~ Normal(0, 10)
bMonday ~ Normal(0, 10)
bTuesday ~ Normal(0, 10)
bWednesday ~ Normal(0, 10)
bThursday ~ Normal(0, 10)
bFriday ~ Normal(0, 10)
bSaturday ~ Normal(0, 10)
Intercept ~ Normal(0, 10)
result = [isclose(meanSunday, -4, atol=0.5), isclose(meanMonday, -4, atol=0.5), isclose(meanTuesday, -4, atol=0.75), isclose(meanWednesday, 12, atol=0.5), isclose(meanThursday, -4, atol=0.5), isclose(meanFriday, -4, atol=0.5), isclose(meanSaturday, -4, atol=0.5)]
